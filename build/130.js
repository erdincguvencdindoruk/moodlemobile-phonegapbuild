webpackJsonp([130],{1970:function(n,l,e){"use strict";function t(n){return i._42(0,[(n()(),i._16(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._15(1,16384,null,0,k.a,[R.a,i.p,i.K],{color:[0,"color"]},null),(n()(),i._40(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetency.gradename)})}function u(n){return i._42(0,[(n()(),i._16(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._15(1,16384,null,0,k.a,[R.a,i.p,i.K],{color:[0,"color"]},null),(n()(),i._40(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetencycourse.gradename)})}function c(n){return i._42(0,[(n()(),i._16(0,0,null,null,17,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openCompetency(n.context.$implicit.competency.id)&&t}return t},T.b,T.a)),i._15(1,1097728,null,3,j.a,[D.a,R.a,i.p,i.K,[2,O.a]],null,null),i._37(335544320,2,{contentLabel:0}),i._37(603979776,3,{_buttons:1}),i._37(603979776,4,{_icons:1}),i._15(5,16384,null,0,U.a,[],null,null),(n()(),i._40(-1,2,["\n                    "])),(n()(),i._16(7,0,null,2,3,"h2",[],null,null,null,null,null)),(n()(),i._40(8,null,[""," "])),(n()(),i._16(9,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),i._40(10,null,["",""])),(n()(),i._40(-1,2,["\n                    "])),(n()(),i._11(16777216,null,4,1,null,t)),i._15(13,16384,null,0,F.k,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(n()(),i._40(-1,2,["\n                    "])),(n()(),i._11(16777216,null,4,1,null,u)),i._15(16,16384,null,0,F.k,[i.W,i.T],{ngIf:[0,"ngIf"]},null),(n()(),i._40(-1,2,["\n                "]))],function(n,l){n(l,13,0,l.context.$implicit.usercompetency);n(l,16,0,l.context.$implicit.usercompetencycourse)},function(n,l){n(l,0,0,l.context.$implicit.competency.shortname,l.context.$implicit.competency.id==l.component.competencyId);n(l,8,0,l.context.$implicit.competency.shortname);n(l,10,0,l.context.$implicit.competency.idnumber)})}function o(n){return i._42(0,[i._37(402653184,1,{splitviewCtrl:0}),(n()(),i._16(1,0,null,null,11,"ion-header",[],null,null,null,null,null)),i._15(2,16384,null,0,M.a,[R.a,i.p,i.K,[2,W.a]],null,null),(n()(),i._40(-1,null,["\n    "])),(n()(),i._16(4,0,null,null,7,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,A.b,A.a)),i._15(5,49152,null,0,E.a,[B.a,[2,W.a],[2,J.a],R.a,i.p,i.K],null,null),i._15(6,212992,null,0,N.a,[E.a,V.a,q.a,z.a],null,null),(n()(),i._40(-1,3,["\n        "])),(n()(),i._16(8,0,null,3,2,"ion-title",[],null,null,null,G.b,G.a)),i._15(9,49152,null,0,H.a,[R.a,i.p,i.K,[2,Q.a],[2,E.a]],null,null),(n()(),i._40(10,0,["",""])),(n()(),i._40(-1,3,["\n    "])),(n()(),i._40(-1,null,["\n"])),(n()(),i._40(-1,null,["\n"])),(n()(),i._16(14,0,null,null,25,"core-split-view",[],null,null,null,S.b,S.a)),i._15(15,245760,[[1,4]],0,_.a,[[2,J.a],i.p,X.a,V.a,q.a],null,null),(n()(),i._40(-1,0,["\n    "])),(n()(),i._16(17,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),i._15(18,4374528,null,0,Z.a,[R.a,V.a,nn.a,i.p,i.K,B.a,ln.a,i.D,[2,W.a],[2,J.a]],null,null),(n()(),i._40(-1,1,["\n        "])),(n()(),i._16(20,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshCompetencies(e)&&t}return t},null,null)),i._15(21,212992,null,0,en.a,[V.a,Z.a,i.D,tn.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),i._40(-1,null,["\n            "])),(n()(),i._16(23,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,un.b,un.a)),i._15(24,114688,null,0,cn.a,[en.a,R.a],{pullingText:[0,"pullingText"]},null),i._32(131072,on.a,[q.a,i.i]),(n()(),i._40(-1,null,["\n        "])),(n()(),i._40(-1,1,["\n        "])),(n()(),i._16(28,0,null,1,9,"core-loading",[],null,null,null,an.b,an.a)),i._15(29,638976,null,0,rn.a,[q.a,i.p,z.a,sn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),i._40(-1,0,["\n            "])),(n()(),i._16(31,0,null,0,5,"ion-list",[],null,null,null,null,null)),i._15(32,16384,null,0,pn.a,[R.a,i.p,i.K,V.a,tn.l,nn.a],null,null),(n()(),i._40(-1,null,["\n                "])),(n()(),i._11(16777216,null,null,1,null,c)),i._15(35,802816,null,0,F.j,[i.W,i.T,i.v],{ngForOf:[0,"ngForOf"]},null),(n()(),i._40(-1,null,["\n            "])),(n()(),i._40(-1,0,["\n        "])),(n()(),i._40(-1,1,["\n    "])),(n()(),i._40(-1,0,["\n"]))],function(n,l){var e=l.component;n(l,6,0),n(l,15,0);n(l,21,0,e.competenciesLoaded);n(l,24,0,i._19(1,"",i._41(l,24,0,i._29(l,25).transform("core.pulltorefresh")),""));n(l,29,0,e.competenciesLoaded);n(l,35,0,e.competencies)},function(n,l){var e=l.component;n(l,4,0,i._29(l,5)._hidden,i._29(l,5)._sbPadding);n(l,10,0,e.title);n(l,17,0,i._29(l,18).statusbarPadding,i._29(l,18)._hasRefresher);n(l,20,0,"inactive"!==i._29(l,21).state,i._29(l,21)._top);n(l,23,0,i._29(l,24).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var i=e(1),a=(e(0),e(7),e(4)),r=e(30),s=e(32),p=e(5),_=e(26),d=e(158),m=function(){function n(n,l,e,t){this.translate=l,this.domUtils=e,this.competencyProvider=t,this.competenciesLoaded=!1,this.competencies=[],this.planId=n.get("planId"),this.courseId=n.get("courseId"),this.competencyId=n.get("competencyId"),this.userId=n.get("userId")}return n.prototype.ionViewDidLoad=function(){var n=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!n.competencyId&&n.splitviewCtrl.isOn()&&n.competencies.length>0&&n.openCompetency(n.competencies[0].id)}).finally(function(){n.competenciesLoaded=!0})},n.prototype.fetchCompetencies=function(){var n=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(l){if(l.competencycount<=0)return Promise.reject(n.translate.instant("addon.competency.errornocompetenciesfound"));n.planId?(n.title=l.plan.name,n.userId=l.plan.userid):n.title=n.translate.instant("addon.competency.coursecompetencies"),n.competencies=l.competencies}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Error getting competencies data.")})},n.prototype.openCompetency=function(n){this.competencyId=n;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:n,planId:this.planId}:{competencyId:n,courseId:this.courseId,userId:this.userId})},n.prototype.refreshCompetencies=function(n){var l=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){l.fetchCompetencies().finally(function(){n.complete()})})},n}(),h=function(){return function(){}}(),f=e(1471),y=e(1472),b=e(1473),I=e(1474),g=e(1475),v=e(1476),C=e(1477),x=e(1478),P=e(1479),$=e(1480),w=e(1481),K=e(1482),L=e(1483),k=e(143),R=e(8),T=e(31),j=e(22),D=e(21),O=e(29),U=e(33),F=e(9),M=e(365),W=e(39),A=e(713),E=e(209),B=e(35),J=e(20),N=e(471),V=e(17),q=e(19),z=e(12),G=e(714),H=e(307),Q=e(245),S=e(472),X=e(69),Y=e(179),Z=e(27),nn=e(34),ln=e(102),en=e(152),tn=e(40),un=e(210),cn=e(168),on=e(28),an=e(51),rn=e(48),sn=e(3),pn=e(83),_n=e(72),dn=i._14({encapsulation:2,styles:[],data:{}}),mn=i._12("page-addon-competency-competencies",m,function(n){return i._42(0,[(n()(),i._16(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,o,dn)),i._15(1,49152,null,0,m,[_n.a,q.a,p.a,d.a],null,null)],null,null)},{},{},[]),hn=e(23),fn=e(361),yn=e(362),bn=e(364),In=e(363),gn=e(470),vn=e(712),Cn=e(110),xn=e(268);e.d(l,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return Pn});var Pn=i._13(h,[],function(n){return i._25([i._26(512,i.n,i._6,[[8,[f.a,y.a,b.a,I.a,g.a,v.a,C.a,x.a,P.a,$.a,w.a,K.a,L.a,mn]],[3,i.n],i.B]),i._26(4608,F.m,F.l,[i.x,[2,F.w]]),i._26(4608,hn.x,hn.x,[]),i._26(4608,hn.d,hn.d,[]),i._26(4608,fn.b,fn.a,[]),i._26(4608,yn.a,yn.b,[]),i._26(4608,bn.b,bn.a,[]),i._26(4608,In.b,In.a,[]),i._26(4608,q.a,q.a,[gn.a,fn.b,yn.a,bn.b,In.b,q.b,q.c]),i._26(512,F.b,F.b,[]),i._26(512,hn.v,hn.v,[]),i._26(512,hn.i,hn.i,[]),i._26(512,hn.s,hn.s,[]),i._26(512,vn.a,vn.a,[]),i._26(512,a.a,a.a,[]),i._26(512,s.a,s.a,[]),i._26(512,Cn.a,Cn.a,[]),i._26(512,r.a,r.a,[]),i._26(512,vn.b,vn.b,[]),i._26(512,h,h,[]),i._26(256,q.c,void 0,[]),i._26(256,q.b,void 0,[]),i._26(256,xn.a,m,[])])})}});